<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Comissionamento</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="shortcut icon" href="assets/logofortsun.jpg" type="image/x-icon">
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <div class="main-wrapper animate__animated animate__fadeIn">
        <div class="logo-container float-up">
            <img src="assets/LOGO_FORTSUN_PDF.png" alt="Logo Fortsun" class="logo">
        </div>

        <div class="calculator-container">
            <h1 class="animate__animated animate__fadeInDown">Calculadora de Comissionamento</h1>

            <div class="card animate__animated animate__fadeInLeft">
                <h2>Nome do Consultor(a)</h2>
                <input type="text" id="nome-consultor" placeholder="Digite o nome do consultor" required>
                
                <div class="tip-box">
                    <div class="tip-title">Instruções:</div>
                    <p>Preencha todos os campos corretamente para calcular seu comissionamento.</p>
                    <p>Após preencher cada seção, clique no botão correspondente para calcular.</p>
                </div>
            </div>

            <div class="card animate__animated animate__fadeInRight">
                <h2>Conquista</h2>
                <input type="number" id="valor-referencia" placeholder="Valor de Referência (Salário)" required>
                <input type="number" id="new-mas" placeholder="Quantidade de New Mas" required>
                <select id="categoria">
                    <option value="m0">M0</option>
                    <option value="m1">M1</option>
                    <option value="m2">M2</option>
                    <option value="full">Full</option>
                </select>
                <button class="btn-calculate pulse" onclick="calcularConquista()">Calcular Conquista</button>
                <div class="result-box" id="resultado-conquista"></div>
                
                <div class="tip-box">
                    <div class="tip-title">Dica:</div>
                    <p>Selecione a categoria correta (M0, M1, M2 ou Full) de acordo com seu perfil.</p>
                    <p>New Mas são clientes novos no mês - verifique o número exato para cálculo preciso.</p>
                </div>
            </div>

            <div class="card animate__animated animate__fadeInLeft">
                <h2>Safra e Aceleradores</h2>
                
                <div class="section-title">Dados da Safra</div>
                <input type="number" id="porcentagem-parcelado" placeholder="Porcentagem de Parcelado" required>
                <input type="number" id="migrados-cpf-15-30" placeholder="Migrados CPF 15k-29,99k" required>
                <input type="number" id="migrados-cpf-30" placeholder="Migrados CPF +30k" required>
                <input type="number" id="migrados-cnpj-15-30" placeholder="Migrados CNPJ 15k-29,99k" required>
                <input type="number" id="migrados-cnpj-30" placeholder="Migrados CNPJ +30k" required>
                
                <div class="divider"></div>
                
                <div class="section-title">Dados dos Aceleradores</div>
                <input type="text" id="ponderado-medio" placeholder="Ponderado Médio Total (ex: 1.000,00)" required>
                <input type="number" id="migrados-totais" placeholder="Migrados Totais" required>
                
                <button class="btn-calculate pulse" onclick="calcularSafraEAceleradores()">Calcular Safra e Aceleradores</button>
                
                <div class="result-box">
                    <h4>Resultado Safra</h4>
                    <div id="resultado-safra"></div>
                </div>
                
                <div class="result-box">
                    <h4>Resultado Aceleradores</h4>
                    <div id="resultado-aceleradores"></div>
                </div>
                
                <div id="dica-safra"></div>
                <div id="dica-aceleradores"></div>
                
                <div class="warning-box">
                    <div class="tip-title">Aviso importante:</div>
                    <p>Se o Ponderado Médio for menor que R$ 100.000, o valor Safra será reduzido em 50% automaticamente.</p>
                    <p>Verifique cuidadosamente a porcentagem de parcelado para calcular corretamente.</p>
                </div>
                
                <div class="tip-box">
                    <div class="tip-title">Dicas de Aceleradores:</div>
                    <p>Ponderado Médio acima de R$ 200.000: +20% sobre Safra</p>
                    <p>Ponderado Médio acima de R$ 300.000: +30% sobre Safra</p>
                    <p>7-11 migrados totais: +20% sobre Safra</p>
                    <p>12+ migrados totais: +30% sobre Safra</p>
                </div>
            </div>

            <div class="card animate__animated animate__fadeInUp">
                <h2>Resultado Final</h2>
                <div class="result-box" id="resultado-final"></div>
                <div class="action-buttons">
                    <button class="btn-export" onclick="exportarPDF()">Exportar PDF</button>
                    <button class="btn-reset" onclick="resetar()">Resetar</button>
                </div>
                
                <div class="tip-box">
                    <div class="tip-title">Última verificação:</div>
                    <p>Confira todos os valores antes de exportar para PDF.</p>
                    <p>Se precisar recalcular, atualize os valores e clique nos botões novamente.</p>
                </div>
            </div>
        </div>

        <footer>
            Desenvolvido por Rafael Germano
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="assets/script.js"></script>
</body>
</html>